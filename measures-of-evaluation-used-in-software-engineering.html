<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Data Analysis in Software Engineering with R</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="DASE with bookdown::gitbook.">
  <meta name="generator" content="bookdown 0.3 and GitBook 2.6.7">

  <meta property="og:title" content="Data Analysis in Software Engineering with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="DASE with bookdown::gitbook." />
  <meta name="github-repo" content="danrodgar/dasedown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Analysis in Software Engineering with R" />
  
  <meta name="twitter:description" content="DASE with bookdown::gitbook." />
  

<meta name="author" content="Javier Dolado and Daniel Rodriguez">


<meta name="date" content="2017-02-13">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="evaluation-of-models.html">
<link rel="next" href="feature-selection.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Analysis in Software Engineering with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>I Introduction to the R Language</b></span></li>
<li class="chapter" data-level="1" data-path="r-intro.html"><a href="r-intro.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a><ul>
<li class="chapter" data-level="1.1" data-path="r-intro.html"><a href="r-intro.html#r-and-rstudio"><i class="fa fa-check"></i><b>1.1</b> R and RStudio</a></li>
<li class="chapter" data-level="1.2" data-path="r-intro.html"><a href="r-intro.html#basic-data-types"><i class="fa fa-check"></i><b>1.2</b> Basic Data Types</a><ul>
<li class="chapter" data-level="1.2.1" data-path="r-intro.html"><a href="r-intro.html#mising-values"><i class="fa fa-check"></i><b>1.2.1</b> Mising values</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="r-intro.html"><a href="r-intro.html#vectors"><i class="fa fa-check"></i><b>1.3</b> Vectors</a><ul>
<li class="chapter" data-level="1.3.1" data-path="r-intro.html"><a href="r-intro.html#coercion-for-vectors"><i class="fa fa-check"></i><b>1.3.1</b> Coercion for vectors</a></li>
<li class="chapter" data-level="1.3.2" data-path="r-intro.html"><a href="r-intro.html#vector-arithmetic"><i class="fa fa-check"></i><b>1.3.2</b> Vector arithmetic</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="r-intro.html"><a href="r-intro.html#arrays-and-matrices"><i class="fa fa-check"></i><b>1.4</b> Arrays and Matrices</a></li>
<li class="chapter" data-level="1.5" data-path="r-intro.html"><a href="r-intro.html#factors"><i class="fa fa-check"></i><b>1.5</b> Factors</a></li>
<li class="chapter" data-level="1.6" data-path="r-intro.html"><a href="r-intro.html#lists"><i class="fa fa-check"></i><b>1.6</b> Lists</a></li>
<li class="chapter" data-level="1.7" data-path="r-intro.html"><a href="r-intro.html#data-frames"><i class="fa fa-check"></i><b>1.7</b> Data frames</a></li>
<li class="chapter" data-level="1.8" data-path="r-intro.html"><a href="r-intro.html#reading-data"><i class="fa fa-check"></i><b>1.8</b> Reading Data</a></li>
<li class="chapter" data-level="1.9" data-path="r-intro.html"><a href="r-intro.html#plots"><i class="fa fa-check"></i><b>1.9</b> Plots</a></li>
<li class="chapter" data-level="1.10" data-path="r-intro.html"><a href="r-intro.html#flow-of-control"><i class="fa fa-check"></i><b>1.10</b> Flow of Control</a></li>
</ul></li>
<li class="part"><span><b>II Introduction to Data Mining</b></span></li>
<li class="chapter" data-level="2" data-path="what-is-data-mining-knowledge-discovery-in-databases-kdd.html"><a href="what-is-data-mining-knowledge-discovery-in-databases-kdd.html"><i class="fa fa-check"></i><b>2</b> What is Data Mining / Knowledge Discovery in Databases (KDD)</a><ul>
<li class="chapter" data-level="2.1" data-path="what-is-data-mining-knowledge-discovery-in-databases-kdd.html"><a href="what-is-data-mining-knowledge-discovery-in-databases-kdd.html#the-aim-of-data-analysis-and-statistical-learning"><i class="fa fa-check"></i><b>2.1</b> The Aim of Data Analysis and Statistical Learning</a></li>
<li class="chapter" data-level="2.2" data-path="what-is-data-mining-knowledge-discovery-in-databases-kdd.html"><a href="what-is-data-mining-knowledge-discovery-in-databases-kdd.html#basic-references"><i class="fa fa-check"></i><b>2.2</b> Basic References</a></li>
<li class="chapter" data-level="2.3" data-path="what-is-data-mining-knowledge-discovery-in-databases-kdd.html"><a href="what-is-data-mining-knowledge-discovery-in-databases-kdd.html#data-mining-with-r"><i class="fa fa-check"></i><b>2.3</b> Data Mining with R</a></li>
<li class="chapter" data-level="2.4" data-path="what-is-data-mining-knowledge-discovery-in-databases-kdd.html"><a href="what-is-data-mining-knowledge-discovery-in-databases-kdd.html#data-mining-with-weka"><i class="fa fa-check"></i><b>2.4</b> Data Mining with Weka</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-sources-in-software-engineering.html"><a href="data-sources-in-software-engineering.html"><i class="fa fa-check"></i><b>3</b> Data Sources in Software Engineering</a><ul>
<li class="chapter" data-level="3.1" data-path="data-sources-in-software-engineering.html"><a href="data-sources-in-software-engineering.html#types-of-information-stored-in-the-repositories"><i class="fa fa-check"></i><b>3.1</b> Types of information stored in the repositories</a></li>
<li class="chapter" data-level="3.2" data-path="data-sources-in-software-engineering.html"><a href="data-sources-in-software-engineering.html#repositories"><i class="fa fa-check"></i><b>3.2</b> Repositories</a></li>
<li class="chapter" data-level="3.3" data-path="data-sources-in-software-engineering.html"><a href="data-sources-in-software-engineering.html#some-tools-to-extract-data-and-dashboards"><i class="fa fa-check"></i><b>3.3</b> Some Tools to extract data and dashboards</a></li>
<li class="chapter" data-level="3.4" data-path="data-sources-in-software-engineering.html"><a href="data-sources-in-software-engineering.html#references-to-be-fixed"><i class="fa fa-check"></i><b>3.4</b> References (To be fixed)</a></li>
</ul></li>
<li class="part"><span><b>III Exploratory and Descriptive Data analysis</b></span></li>
<li class="chapter" data-level="4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>4</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#descriptive-statistics"><i class="fa fa-check"></i><b>4.1</b> Descriptive statistics</a></li>
<li class="chapter" data-level="4.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#basic-plots"><i class="fa fa-check"></i><b>4.2</b> Basic Plots</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="descriptive-statistics-1.html"><a href="descriptive-statistics-1.html"><i class="fa fa-check"></i><b>5</b> Descriptive Statistics</a><ul>
<li class="chapter" data-level="5.1" data-path="descriptive-statistics-1.html"><a href="descriptive-statistics-1.html#normality"><i class="fa fa-check"></i><b>5.1</b> Normality</a></li>
<li class="chapter" data-level="5.2" data-path="descriptive-statistics-1.html"><a href="descriptive-statistics-1.html#getting-the-data.-descriptive-statistics."><i class="fa fa-check"></i><b>5.2</b> Getting the Data. Descriptive statistics.</a></li>
<li class="chapter" data-level="5.3" data-path="descriptive-statistics-1.html"><a href="descriptive-statistics-1.html#china-dataset"><i class="fa fa-check"></i><b>5.3</b> China dataset</a></li>
<li class="chapter" data-level="5.4" data-path="descriptive-statistics-1.html"><a href="descriptive-statistics-1.html#normality.-galton-data"><i class="fa fa-check"></i><b>5.4</b> Normality. Galton data</a></li>
<li class="chapter" data-level="5.5" data-path="descriptive-statistics-1.html"><a href="descriptive-statistics-1.html#normalization"><i class="fa fa-check"></i><b>5.5</b> Normalization</a></li>
<li class="chapter" data-level="5.6" data-path="descriptive-statistics-1.html"><a href="descriptive-statistics-1.html#china-dataset.-correlation."><i class="fa fa-check"></i><b>5.6</b> China dataset. Correlation.</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="classical-hypothesis-testing.html"><a href="classical-hypothesis-testing.html"><i class="fa fa-check"></i><b>6</b> Classical Hypothesis Testing</a><ul>
<li class="chapter" data-level="6.1" data-path="classical-hypothesis-testing.html"><a href="classical-hypothesis-testing.html#p-values"><i class="fa fa-check"></i><b>6.1</b> p-values</a></li>
</ul></li>
<li class="part"><span><b>IV Basic Models</b></span></li>
<li class="chapter" data-level="7" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html"><i class="fa fa-check"></i><b>7</b> Basics of Preprocessing</a><ul>
<li class="chapter" data-level="7.1" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#data"><i class="fa fa-check"></i><b>7.1</b> Data</a></li>
<li class="chapter" data-level="7.2" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#missing-values"><i class="fa fa-check"></i><b>7.2</b> Missing values</a><ul>
<li class="chapter" data-level="7.2.1" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#imputation-methods"><i class="fa fa-check"></i><b>7.2.1</b> Imputation methods</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#noise"><i class="fa fa-check"></i><b>7.3</b> Noise</a></li>
<li class="chapter" data-level="7.4" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#outliers"><i class="fa fa-check"></i><b>7.4</b> Outliers</a></li>
<li class="chapter" data-level="7.5" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#feature-selection-fs"><i class="fa fa-check"></i><b>7.5</b> Feature selection (FS)</a></li>
<li class="chapter" data-level="7.6" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#instance-selection"><i class="fa fa-check"></i><b>7.6</b> Instance selection</a></li>
<li class="chapter" data-level="7.7" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#discretization"><i class="fa fa-check"></i><b>7.7</b> Discretization</a></li>
<li class="chapter" data-level="7.8" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#correlation-coefficient-and-covariance-for-numeric-data"><i class="fa fa-check"></i><b>7.8</b> Correlation Coefficient and Covariance for Numeric Data</a></li>
<li class="chapter" data-level="7.9" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#normalization-1"><i class="fa fa-check"></i><b>7.9</b> Normalization</a><ul>
<li class="chapter" data-level="7.9.1" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#min-max-normalization"><i class="fa fa-check"></i><b>7.9.1</b> Min-Max Normalization</a></li>
<li class="chapter" data-level="7.9.2" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#z-score-normalization"><i class="fa fa-check"></i><b>7.9.2</b> Z-score normalization</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#transformations"><i class="fa fa-check"></i><b>7.10</b> Transformations</a><ul>
<li class="chapter" data-level="7.10.1" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#linear-transformations-and-quadratic-trans-formations"><i class="fa fa-check"></i><b>7.10.1</b> Linear Transformations and Quadratic Trans formations</a></li>
<li class="chapter" data-level="7.10.2" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#box-cox-transformation"><i class="fa fa-check"></i><b>7.10.2</b> Box-cox transformation</a></li>
<li class="chapter" data-level="7.10.3" data-path="basics-of-preprocessing.html"><a href="basics-of-preprocessing.html#nominal-to-binary-tranformations"><i class="fa fa-check"></i><b>7.10.3</b> Nominal to Binary tranformations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="preprocessing-in-r.html"><a href="preprocessing-in-r.html"><i class="fa fa-check"></i><b>8</b> Preprocessing in R</a><ul>
<li class="chapter" data-level="8.1" data-path="preprocessing-in-r.html"><a href="preprocessing-in-r.html#the-dplyr-package"><i class="fa fa-check"></i><b>8.1</b> The dplyr package</a></li>
<li class="chapter" data-level="8.2" data-path="preprocessing-in-r.html"><a href="preprocessing-in-r.html#other-libraries-and-tricks"><i class="fa fa-check"></i><b>8.2</b> Other libraries and tricks</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="supervised-classification.html"><a href="supervised-classification.html"><i class="fa fa-check"></i><b>9</b> Supervised Classification</a><ul>
<li class="chapter" data-level="9.1" data-path="supervised-classification.html"><a href="supervised-classification.html#regression"><i class="fa fa-check"></i><b>9.1</b> Regression</a><ul>
<li class="chapter" data-level="9.1.1" data-path="supervised-classification.html"><a href="supervised-classification.html#linear-regression"><i class="fa fa-check"></i><b>9.1.1</b> Linear Regression</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="supervised-classification.html"><a href="supervised-classification.html#regression-galton-data"><i class="fa fa-check"></i><b>9.2</b> Regression: Galton Data</a></li>
<li class="chapter" data-level="9.3" data-path="supervised-classification.html"><a href="supervised-classification.html#linear-regression-diagnostics"><i class="fa fa-check"></i><b>9.3</b> Linear Regression Diagnostics</a></li>
<li class="chapter" data-level="9.4" data-path="supervised-classification.html"><a href="supervised-classification.html#linear-regression-1"><i class="fa fa-check"></i><b>9.4</b> Linear regression</a><ul>
<li class="chapter" data-level="9.4.1" data-path="supervised-classification.html"><a href="supervised-classification.html#effort-estimation"><i class="fa fa-check"></i><b>9.4.1</b> Effort estimation</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="supervised-classification.html"><a href="supervised-classification.html#supervised-classification-1"><i class="fa fa-check"></i><b>9.5</b> Supervised Classification</a><ul>
<li class="chapter" data-level="9.5.1" data-path="supervised-classification.html"><a href="supervised-classification.html#the-caret-package"><i class="fa fa-check"></i><b>9.5.1</b> The caret package</a></li>
<li class="chapter" data-level="9.5.2" data-path="supervised-classification.html"><a href="supervised-classification.html#defect-prediction-as-a-running-example"><i class="fa fa-check"></i><b>9.5.2</b> Defect Prediction as a running example</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="supervised-classification.html"><a href="supervised-classification.html#linear-discriminant-analysis-lda"><i class="fa fa-check"></i><b>9.6</b> Linear Discriminant Analysis (LDA)</a><ul>
<li class="chapter" data-level="9.6.1" data-path="supervised-classification.html"><a href="supervised-classification.html#predicting-the-number-of-defects-numerical-class"><i class="fa fa-check"></i><b>9.6.1</b> Predicting the number of defects (numerical class)</a></li>
<li class="chapter" data-level="9.6.2" data-path="supervised-classification.html"><a href="supervised-classification.html#binary-logistic-regression-blr"><i class="fa fa-check"></i><b>9.6.2</b> Binary Logistic Regression (BLR)</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="supervised-classification.html"><a href="supervised-classification.html#classification-trees"><i class="fa fa-check"></i><b>9.7</b> Classification Trees</a></li>
<li class="chapter" data-level="9.8" data-path="supervised-classification.html"><a href="supervised-classification.html#rules"><i class="fa fa-check"></i><b>9.8</b> Rules</a></li>
<li class="chapter" data-level="9.9" data-path="supervised-classification.html"><a href="supervised-classification.html#distanced-based-methods"><i class="fa fa-check"></i><b>9.9</b> Distanced-based Methods</a></li>
<li class="chapter" data-level="9.10" data-path="supervised-classification.html"><a href="supervised-classification.html#probabilistic-methods"><i class="fa fa-check"></i><b>9.10</b> Probabilistic Methods</a><ul>
<li class="chapter" data-level="9.10.1" data-path="supervised-classification.html"><a href="supervised-classification.html#naive-bayes"><i class="fa fa-check"></i><b>9.10.1</b> Naive Bayes</a></li>
<li class="chapter" data-level="9.10.2" data-path="supervised-classification.html"><a href="supervised-classification.html#bayesian-networks"><i class="fa fa-check"></i><b>9.10.2</b> Bayesian Networks</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="unsupervised-classification.html"><a href="unsupervised-classification.html"><i class="fa fa-check"></i><b>10</b> Unsupervised Classification</a><ul>
<li class="chapter" data-level="10.1" data-path="unsupervised-classification.html"><a href="unsupervised-classification.html#clustering"><i class="fa fa-check"></i><b>10.1</b> Clustering</a></li>
<li class="chapter" data-level="10.2" data-path="unsupervised-classification.html"><a href="unsupervised-classification.html#association-rules"><i class="fa fa-check"></i><b>10.2</b> Association rules</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="evaluation-of-models.html"><a href="evaluation-of-models.html"><i class="fa fa-check"></i><b>11</b> Evaluation of Models</a><ul>
<li class="chapter" data-level="11.1" data-path="evaluation-of-models.html"><a href="evaluation-of-models.html#underfitting-vs.overfitting"><i class="fa fa-check"></i><b>11.1</b> Underfitting vs. Overfitting</a></li>
<li class="chapter" data-level="11.2" data-path="evaluation-of-models.html"><a href="evaluation-of-models.html#building-and-validating-a-model"><i class="fa fa-check"></i><b>11.2</b> Building and Validating a Model</a><ul>
<li class="chapter" data-level="11.2.1" data-path="evaluation-of-models.html"><a href="evaluation-of-models.html#holdout-approach"><i class="fa fa-check"></i><b>11.2.1</b> Holdout approach</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="evaluation-of-models.html"><a href="evaluation-of-models.html#cross-validation-cv"><i class="fa fa-check"></i><b>11.3</b> Cross Validation (CV)</a><ul>
<li class="chapter" data-level="11.3.1" data-path="evaluation-of-models.html"><a href="evaluation-of-models.html#china-dataset.-split-data-into-training-and-testing"><i class="fa fa-check"></i><b>11.3.1</b> China dataset. Split data into Training and Testing</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="evaluation-of-models.html"><a href="evaluation-of-models.html#evaluation-of-classifiers"><i class="fa fa-check"></i><b>11.4</b> Evaluation of Classifiers</a><ul>
<li class="chapter" data-level="11.4.1" data-path="evaluation-of-models.html"><a href="evaluation-of-models.html#discrete-evaluation"><i class="fa fa-check"></i><b>11.4.1</b> Discrete Evaluation</a></li>
<li class="chapter" data-level="11.4.2" data-path="evaluation-of-models.html"><a href="evaluation-of-models.html#prediction-in-probabilistic-classifiers"><i class="fa fa-check"></i><b>11.4.2</b> Prediction in probabilistic classifiers</a></li>
<li class="chapter" data-level="11.4.3" data-path="evaluation-of-models.html"><a href="evaluation-of-models.html#graphical-evaluation"><i class="fa fa-check"></i><b>11.4.3</b> Graphical Evaluation</a></li>
<li class="chapter" data-level="11.4.4" data-path="evaluation-of-models.html"><a href="evaluation-of-models.html#metrics-used-in-software-engineering-and-defect-classification"><i class="fa fa-check"></i><b>11.4.4</b> Metrics used in Software Engineering and Defect Classification</a></li>
<li class="chapter" data-level="11.4.5" data-path="evaluation-of-models.html"><a href="evaluation-of-models.html#numeric-prediction-evaluation"><i class="fa fa-check"></i><b>11.4.5</b> Numeric Prediction Evaluation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="measures-of-evaluation-used-in-software-engineering.html"><a href="measures-of-evaluation-used-in-software-engineering.html"><i class="fa fa-check"></i><b>12</b> Measures of Evaluation used in Software Engineering</a><ul>
<li class="chapter" data-level="12.1" data-path="measures-of-evaluation-used-in-software-engineering.html"><a href="measures-of-evaluation-used-in-software-engineering.html#evaluation-of-the-model-in-the-testing-data"><i class="fa fa-check"></i><b>12.1</b> Evaluation of the model in the Testing data</a></li>
<li class="chapter" data-level="12.2" data-path="measures-of-evaluation-used-in-software-engineering.html"><a href="measures-of-evaluation-used-in-software-engineering.html#building-a-linear-model-on-the-telecom1-dataset"><i class="fa fa-check"></i><b>12.2</b> Building a Linear Model on the Telecom1 dataset</a></li>
<li class="chapter" data-level="12.3" data-path="measures-of-evaluation-used-in-software-engineering.html"><a href="measures-of-evaluation-used-in-software-engineering.html#building-a-linear-model-on-the-telecom1-dataset-with-all-observations"><i class="fa fa-check"></i><b>12.3</b> Building a Linear Model on the Telecom1 dataset with all observations</a></li>
<li class="chapter" data-level="12.4" data-path="measures-of-evaluation-used-in-software-engineering.html"><a href="measures-of-evaluation-used-in-software-engineering.html#standardised-accuracy.-marp0.-chinatest"><i class="fa fa-check"></i><b>12.4</b> Standardised Accuracy. MARP0. ChinaTest</a></li>
<li class="chapter" data-level="12.5" data-path="measures-of-evaluation-used-in-software-engineering.html"><a href="measures-of-evaluation-used-in-software-engineering.html#standardised-accuracy.-marp0.-telecom1"><i class="fa fa-check"></i><b>12.5</b> Standardised Accuracy. MARP0. Telecom1</a><ul>
<li class="chapter" data-level="12.5.1" data-path="measures-of-evaluation-used-in-software-engineering.html"><a href="measures-of-evaluation-used-in-software-engineering.html#marp0-in-the-atkinson-dataset"><i class="fa fa-check"></i><b>12.5.1</b> MARP0 in the Atkinson dataset</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="measures-of-evaluation-used-in-software-engineering.html"><a href="measures-of-evaluation-used-in-software-engineering.html#confidence-intervals.-bootstrap"><i class="fa fa-check"></i><b>12.6</b> Confidence Intervals. Bootstrap</a></li>
<li class="chapter" data-level="12.7" data-path="measures-of-evaluation-used-in-software-engineering.html"><a href="measures-of-evaluation-used-in-software-engineering.html#nonparametric-bootstrap"><i class="fa fa-check"></i><b>12.7</b> Nonparametric Bootstrap</a></li>
</ul></li>
<li class="part"><span><b>V Advanced Topics</b></span></li>
<li class="chapter" data-level="13" data-path="feature-selection.html"><a href="feature-selection.html"><i class="fa fa-check"></i><b>13</b> Feature Selection</a><ul>
<li class="chapter" data-level="13.1" data-path="feature-selection.html"><a href="feature-selection.html#instance-selection-1"><i class="fa fa-check"></i><b>13.1</b> Instance Selection</a></li>
<li class="chapter" data-level="13.2" data-path="feature-selection.html"><a href="feature-selection.html#missing-data-imputation"><i class="fa fa-check"></i><b>13.2</b> Missing Data Imputation</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="feature-selection-example.html"><a href="feature-selection-example.html"><i class="fa fa-check"></i><b>14</b> Feature Selection Example</a></li>
<li class="chapter" data-level="15" data-path="advanced-models.html"><a href="advanced-models.html"><i class="fa fa-check"></i><b>15</b> Advanced Models</a><ul>
<li class="chapter" data-level="15.1" data-path="advanced-models.html"><a href="advanced-models.html#genetic-programming-for-symbolic-regression"><i class="fa fa-check"></i><b>15.1</b> Genetic Programming for Symbolic Regression</a></li>
<li class="chapter" data-level="15.2" data-path="advanced-models.html"><a href="advanced-models.html#genetic-programming-example"><i class="fa fa-check"></i><b>15.2</b> Genetic Programming Example</a><ul>
<li class="chapter" data-level="15.2.1" data-path="advanced-models.html"><a href="advanced-models.html#load-data"><i class="fa fa-check"></i><b>15.2.1</b> Load Data</a></li>
<li class="chapter" data-level="15.2.2" data-path="advanced-models.html"><a href="advanced-models.html#genetic-programming-for-symbolic-regression-china-dataset."><i class="fa fa-check"></i><b>15.2.2</b> Genetic Programming for Symbolic Regression: China dataset.</a></li>
<li class="chapter" data-level="15.2.3" data-path="advanced-models.html"><a href="advanced-models.html#genetic-programming-for-symbolic-regression.-telecom1-dataset."><i class="fa fa-check"></i><b>15.2.3</b> Genetic Programming for Symbolic Regression. Telecom1 dataset.</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="advanced-models.html"><a href="advanced-models.html#neural-networks"><i class="fa fa-check"></i><b>15.3</b> Neural Networks</a></li>
<li class="chapter" data-level="15.4" data-path="advanced-models.html"><a href="advanced-models.html#support-vector-machines"><i class="fa fa-check"></i><b>15.4</b> Support Vector Machines</a></li>
<li class="chapter" data-level="15.5" data-path="advanced-models.html"><a href="advanced-models.html#ensembles"><i class="fa fa-check"></i><b>15.5</b> Ensembles</a><ul>
<li class="chapter" data-level="15.5.1" data-path="advanced-models.html"><a href="advanced-models.html#bagging"><i class="fa fa-check"></i><b>15.5.1</b> Bagging</a></li>
<li class="chapter" data-level="15.5.2" data-path="advanced-models.html"><a href="advanced-models.html#boosting"><i class="fa fa-check"></i><b>15.5.2</b> Boosting</a></li>
<li class="chapter" data-level="15.5.3" data-path="advanced-models.html"><a href="advanced-models.html#rotation-forests"><i class="fa fa-check"></i><b>15.5.3</b> Rotation Forests</a></li>
<li class="chapter" data-level="15.5.4" data-path="advanced-models.html"><a href="advanced-models.html#boosting-in-r"><i class="fa fa-check"></i><b>15.5.4</b> Boosting in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="further-classification-models.html"><a href="further-classification-models.html"><i class="fa fa-check"></i><b>16</b> Further Classification Models</a><ul>
<li class="chapter" data-level="16.1" data-path="further-classification-models.html"><a href="further-classification-models.html#multilabel-classification"><i class="fa fa-check"></i><b>16.1</b> Multilabel classification</a></li>
<li class="chapter" data-level="16.2" data-path="further-classification-models.html"><a href="further-classification-models.html#semi-supervised-learning"><i class="fa fa-check"></i><b>16.2</b> Semi-supervised Learning</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="social-network-analysis-in-se.html"><a href="social-network-analysis-in-se.html"><i class="fa fa-check"></i><b>17</b> Social Network Analysis in SE</a></li>
<li class="chapter" data-level="18" data-path="to-fix-and-to-do.html"><a href="to-fix-and-to-do.html"><i class="fa fa-check"></i><b>18</b> To fix and to do:</a></li>
<li class="chapter" data-level="19" data-path="text-mining-soft-eng-data.html"><a href="text-mining-soft-eng-data.html"><i class="fa fa-check"></i><b>19</b> Text Mining Soft Eng Data</a><ul>
<li class="chapter" data-level="19.1" data-path="text-mining-soft-eng-data.html"><a href="text-mining-soft-eng-data.html#example-of-classifying-bugs-from-bugzilla"><i class="fa fa-check"></i><b>19.1</b> Example of classifying bugs from Bugzilla</a></li>
<li class="chapter" data-level="19.2" data-path="text-mining-soft-eng-data.html"><a href="text-mining-soft-eng-data.html#extracting-data-from-twitter"><i class="fa fa-check"></i><b>19.2</b> Extracting data from Twitter</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="time-series.html"><a href="time-series.html"><i class="fa fa-check"></i><b>20</b> Time Series</a><ul>
<li class="chapter" data-level="20.1" data-path="time-series.html"><a href="time-series.html#web-tutorials-about-time-series"><i class="fa fa-check"></i><b>20.1</b> Web tutorials about Time Series:</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis in Software Engineering with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="measures-of-evaluation-used-in-software-engineering" class="section level1">
<h1><span class="header-section-number">Chapter 12</span> Measures of Evaluation used in Software Engineering</h1>
<p>There are several measures usually used:</p>
<ul>
<li><p><em>Mean of the Absolute Error</em> (MAR): compute the absolute errors and take the mean</p></li>
<li><p><em>Geometric Mean of the Absolute Error</em> (gMAR): more appropriate when the distribution is skewed</p></li>
<li><p><em>Mean Magnitude of the Relative Error (MMRE)</em>: this measure has been critisized many times as a biased measure (<span class="math inline">\(\frac{\sum_{i=1}^{n}{|{\hat{y}_i-y_i}|}/y_i}{n}\)</span>)</p></li>
<li><p><em>Median Magnitude of the Relative Error (MdMRE)</em>: using the median insted of the mean</p></li>
<li><p><em>Level of Prediction</em> (<span class="math inline">\(Pred(l)\)</span>) defined as the percentage of estimates that are within the percentage level <span class="math inline">\(l\)</span> of the actual values. The level of prediction is typically set at 25% below and above the actual value and an estimation method is considered good if it gives a result of more than 75%.</p></li>
<li><p><em>Standardised Accuracy (SA)</em> (proposed by Shepperd&amp;MacDonnell): this measure overcomes all the problems of the MMRE. It is defined as the MAR relative to random guessing (<span class="math inline">\(SA=1-{\frac{MAR}{\overline{MAR}_{P_0}}\times100}\)</span>)</p></li>
<li><p><em>Random guessing</em>: <span class="math inline">\(\overline{MAR}_{P_0}\)</span> is defined as: predict a <span class="math inline">\(\hat{y}_t\)</span> for the target case <em>t</em> by randomly sampling (with equal probability) over all the remaining n-1 cases and take <span class="math inline">\(\hat{y}_t=y_r\)</span> where <span class="math inline">\(r\)</span> is drawn randomly from <span class="math inline">\(1\)</span> to <span class="math inline">\(n\)</span> and <span class="math inline">\(r\neq t\)</span>.</p></li>
</ul>
<div id="evaluation-of-the-model-in-the-testing-data" class="section level2">
<h2><span class="header-section-number">12.1</span> Evaluation of the model in the Testing data</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(foreign)
gm_mean =<span class="st"> </span>function(x, <span class="dt">na.rm=</span><span class="ot">TRUE</span>){
  <span class="kw">exp</span>(<span class="kw">sum</span>(<span class="kw">log</span>(x[x &gt;<span class="st"> </span><span class="dv">0</span>]), <span class="dt">na.rm=</span>na.rm) /<span class="st"> </span><span class="kw">length</span>(x))}

chinaTrain &lt;-<span class="st"> </span><span class="kw">read.arff</span>(<span class="st">&quot;datasets/effortEstimation/china3AttSelectedAFPTrain.arff&quot;</span>)
logchina_size &lt;-<span class="st"> </span><span class="kw">log</span>(chinaTrain$AFP)
logchina_effort &lt;-<span class="st"> </span><span class="kw">log</span>(chinaTrain$Effort)
linmodel_logchina_train &lt;-<span class="st"> </span><span class="kw">lm</span>(logchina_effort ~<span class="st"> </span>logchina_size)


chinaTest &lt;-<span class="st"> </span><span class="kw">read.arff</span>(<span class="st">&quot;datasets//effortEstimation/china3AttSelectedAFPTest.arff&quot;</span>)
b0 &lt;-<span class="st"> </span>linmodel_logchina_train$coefficients[<span class="dv">1</span>]
b1 &lt;-<span class="st"> </span>linmodel_logchina_train$coefficients[<span class="dv">2</span>]
china_size_test &lt;-<span class="st"> </span>chinaTest$AFP
actualEffort &lt;-<span class="st"> </span>chinaTest$Effort
predEffort &lt;-<span class="st"> </span><span class="kw">exp</span>(b0+b1*<span class="kw">log</span>(china_size_test))

err &lt;-<span class="st"> </span>actualEffort -<span class="st"> </span>predEffort  <span class="co">#error or residual</span>
ae &lt;-<span class="st"> </span><span class="kw">abs</span>(err)
<span class="kw">hist</span>(ae, <span class="dt">main=</span><span class="st">&quot;Absolute Error in the China Test data&quot;</span>)</code></pre></div>
<p><img src="DASE_files/figure-html/unnamed-chunk-86-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mar &lt;-<span class="st"> </span><span class="kw">mean</span>(ae)
mre &lt;-<span class="st"> </span>ae/actualEffort
mmre &lt;-<span class="st"> </span><span class="kw">mean</span>(mre)
mdmre &lt;-<span class="st"> </span><span class="kw">median</span>(mre)
gmar &lt;-<span class="st"> </span><span class="kw">gm_mean</span>(ae)
mar</code></pre></div>
<pre><code>## [1] 1867</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mmre</code></pre></div>
<pre><code>## [1] 1.15</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mdmre</code></pre></div>
<pre><code>## [1] 0.551</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gmar</code></pre></div>
<pre><code>## [1] 833</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">level_pred &lt;-<span class="st"> </span><span class="fl">0.25</span> <span class="co">#below and above (both)</span>
lowpred &lt;-<span class="st"> </span>actualEffort*(<span class="dv">1</span>-level_pred)
uppred &lt;-<span class="st">  </span>actualEffort*(<span class="dv">1</span>+level_pred)
pred  &lt;-<span class="st">  </span>predEffort &lt;=<span class="st"> </span>uppred &amp;<span class="st"> </span>predEffort &gt;=<span class="st"> </span>lowpred  <span class="co">#pred is a vector with logical values </span>
Lpred &lt;-<span class="st"> </span><span class="kw">sum</span>(pred)/<span class="kw">length</span>(pred)
Lpred</code></pre></div>
<pre><code>## [1] 0.186</code></pre>
</div>
<div id="building-a-linear-model-on-the-telecom1-dataset" class="section level2">
<h2><span class="header-section-number">12.2</span> Building a Linear Model on the Telecom1 dataset</h2>
<ul>
<li>Although there are few datapoints we split the file into Train (2/3) and Test (1/3)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">telecom1 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;datasets/effortEstimation/Telecom1.csv&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>,<span class="dt">header=</span><span class="ot">TRUE</span>, <span class="dt">stringsAsFactors=</span><span class="ot">FALSE</span>, <span class="dt">dec =</span> <span class="st">&quot;.&quot;</span>) <span class="co">#read data</span>

samplesize &lt;-<span class="st"> </span><span class="kw">floor</span>(<span class="fl">0.66</span>*<span class="kw">nrow</span>(telecom1))
<span class="kw">set.seed</span>(<span class="dv">012</span>) <span class="co"># to make the partition reproducible</span>
train_idx &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">seq_len</span>(<span class="kw">nrow</span>(telecom1)), <span class="dt">size =</span> samplesize)
telecom1_train &lt;-<span class="st"> </span>telecom1[train_idx, ]
telecom1_test &lt;-<span class="st"> </span>telecom1[-train_idx, ]

<span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))
<span class="co"># transformation of variables to log-log</span>
xtrain &lt;-<span class="st"> </span><span class="kw">log</span>(telecom1_train$size)
ytrain &lt;-<span class="st"> </span><span class="kw">log</span>(telecom1_train$effort)
lmtelecom1 &lt;-<span class="st"> </span><span class="kw">lm</span>( ytrain ~<span class="st"> </span>xtrain)
<span class="kw">plot</span>(xtrain, ytrain)
<span class="kw">abline</span>(lmtelecom1, <span class="dt">lwd=</span><span class="dv">2</span>, <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>)</code></pre></div>
<p><img src="DASE_files/figure-html/unnamed-chunk-88-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b0_tel1 &lt;-<span class="st"> </span>lmtelecom1$coefficients[<span class="dv">1</span>]
b1_tel1 &lt;-<span class="st"> </span>lmtelecom1$coefficients[<span class="dv">2</span>]
<span class="co"># calculate residuals and predicted values</span>
res &lt;-<span class="st"> </span><span class="kw">signif</span>(<span class="kw">residuals</span>(lmtelecom1), <span class="dv">5</span>)

xtest &lt;-<span class="st"> </span>telecom1_test$size
ytest &lt;-<span class="st"> </span>telecom1_test$effort
pre_tel1 &lt;-<span class="st"> </span><span class="kw">exp</span>(b0+b1*<span class="kw">log</span>(xtest))
<span class="co"># plot distances between points and the regression line</span>
<span class="kw">plot</span>(xtest, ytest)
<span class="kw">curve</span>(<span class="kw">exp</span>(b0_tel1+b1_tel1*<span class="kw">log</span>(x)), <span class="dt">from=</span><span class="dv">0</span>, <span class="dt">to=</span><span class="dv">300</span>, <span class="dt">add=</span><span class="ot">TRUE</span>, <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>, <span class="dt">lwd=</span><span class="dv">2</span>)
<span class="kw">segments</span>(xtest, ytest, xtest, pre_tel1, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</code></pre></div>
<p><img src="DASE_files/figure-html/unnamed-chunk-88-2.png" width="672" /></p>
</div>
<div id="building-a-linear-model-on-the-telecom1-dataset-with-all-observations" class="section level2">
<h2><span class="header-section-number">12.3</span> Building a Linear Model on the Telecom1 dataset with all observations</h2>
<ul>
<li>Just to visualize results</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))

effort_telecom1 &lt;-<span class="st"> </span>telecom1$effort
size_telecom1 &lt;-<span class="st"> </span>telecom1$size

lmtelecom &lt;-<span class="st"> </span><span class="kw">lm</span>(effort_telecom1 ~<span class="st"> </span>size_telecom1)
<span class="kw">plot</span>(size_telecom1, effort_telecom1)
<span class="kw">abline</span>(lmtelecom, <span class="dt">lwd=</span><span class="dv">3</span>, <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>)
<span class="co"># calculate residuals and predicted values</span>
res &lt;-<span class="st"> </span><span class="kw">signif</span>(<span class="kw">residuals</span>(lmtelecom), <span class="dv">5</span>) 
predicted &lt;-<span class="st"> </span><span class="kw">predict</span>(lmtelecom)
<span class="co"># plot distances between points and the regression line</span>
<span class="kw">segments</span>(size_telecom1, effort_telecom1, size_telecom1, predicted, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)

level_pred &lt;-<span class="st"> </span><span class="fl">0.25</span> <span class="co">#below and above (both)</span>
lowpred &lt;-<span class="st"> </span>effort_telecom1*(<span class="dv">1</span>-level_pred)
uppred &lt;-<span class="st">  </span>effort_telecom1*(<span class="dv">1</span>+level_pred)
predict_inrange  &lt;-<span class="st">  </span>predicted &lt;=<span class="st"> </span>uppred &amp;<span class="st"> </span>predicted &gt;=<span class="st"> </span>lowpred  <span class="co">#pred is a vector with logical values </span>
Lpred &lt;-<span class="st"> </span><span class="kw">sum</span>(predict_inrange)/<span class="kw">length</span>(predict_inrange)
Lpred</code></pre></div>
<pre><code>## [1] 0.444</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Visually plot lpred</span>
<span class="kw">segments</span>(size_telecom1, lowpred, size_telecom1, uppred, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">lwd=</span><span class="dv">3</span>)</code></pre></div>
<p><img src="DASE_files/figure-html/unnamed-chunk-89-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">err_telecom1 &lt;-<span class="st"> </span><span class="kw">abs</span>(effort_telecom1 -<span class="st"> </span>predicted)
mar_tel1 &lt;-<span class="st"> </span><span class="kw">mean</span>(err_telecom1)
mar_tel1</code></pre></div>
<pre><code>## [1] 125</code></pre>
</div>
<div id="standardised-accuracy.-marp0.-chinatest" class="section level2">
<h2><span class="header-section-number">12.4</span> Standardised Accuracy. MARP0. ChinaTest</h2>
<ul>
<li>Computing <span class="math inline">\(MARP_0\)</span> in the China Test data</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">estimEffChinaTest &lt;-<span class="st"> </span>predEffort  <span class="co"># This will be overwritten, no problem</span>
numruns &lt;-<span class="st"> </span><span class="dv">9999</span>
randguessruns &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>, numruns)
for (i in <span class="dv">1</span>:numruns) { 
  for (j in <span class="dv">1</span>:<span class="kw">length</span>(estimEffChinaTest)) {
    estimEffChinaTest[j] &lt;-<span class="st"> </span><span class="kw">sample</span>(actualEffort[-j],<span class="dv">1</span>)}<span class="co">#replacement with random guessingt    </span>
  randguessruns[i] &lt;-<span class="st"> </span><span class="kw">mean</span>(<span class="kw">abs</span>(estimEffChinaTest-actualEffort))
  } 
marp0Chinatest &lt;-<span class="st"> </span><span class="kw">mean</span>(randguessruns)
marp0Chinatest</code></pre></div>
<pre><code>## [1] 3956</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(randguessruns, <span class="dt">main=</span><span class="st">&quot;MARP0 distribution of the China dataset&quot;</span>)</code></pre></div>
<p><img src="DASE_files/figure-html/unnamed-chunk-90-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">saChina =<span class="st"> </span>(<span class="dv">1</span>-<span class="st"> </span>mar/marp0Chinatest)*<span class="dv">100</span>
saChina</code></pre></div>
<pre><code>## [1] 52.8</code></pre>
</div>
<div id="standardised-accuracy.-marp0.-telecom1" class="section level2">
<h2><span class="header-section-number">12.5</span> Standardised Accuracy. MARP0. Telecom1</h2>
<ul>
<li>Computing <span class="math inline">\(MARP_0\)</span></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">telecom1 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;./datasets/effortEstimation/Telecom1.csv&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>,<span class="dt">header=</span><span class="ot">TRUE</span>, <span class="dt">stringsAsFactors=</span><span class="ot">FALSE</span>, <span class="dt">dec =</span> <span class="st">&quot;.&quot;</span>) <span class="co">#read data</span>
<span class="co">#par(mfrow=c(1,2))</span>
<span class="co">#size &lt;- telecom1[1]$size   not needed now</span>
actualEffTelecom1 &lt;-<span class="st"> </span>telecom1[<span class="dv">2</span>]$effort
estimEffTelecom1 &lt;-<span class="st"> </span>telecom1[<span class="dv">3</span>]$EstTotal <span class="co"># this will be overwritten</span>
numruns &lt;-<span class="st"> </span><span class="dv">9999</span>
randguessruns &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>, numruns)
for (i in <span class="dv">1</span>:numruns) { 
  for (j in <span class="dv">1</span>:<span class="kw">length</span>(estimEffTelecom1)) {
    estimEffTelecom1[j] &lt;-<span class="st"> </span><span class="kw">sample</span>(actualEffTelecom1[-j],<span class="dv">1</span>)}<span class="co">#replacement with random guessingt    </span>
  randguessruns[i] &lt;-<span class="st"> </span><span class="kw">mean</span>(<span class="kw">abs</span>(estimEffTelecom1-actualEffTelecom1))
  } 
marp0telecom1 &lt;-<span class="st"> </span><span class="kw">mean</span>(randguessruns)
marp0telecom1</code></pre></div>
<pre><code>## [1] 271</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(randguessruns, <span class="dt">main=</span><span class="st">&quot;MARP0 distribution of the Telecom1 dataset&quot;</span>)</code></pre></div>
<p><img src="DASE_files/figure-html/unnamed-chunk-91-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">saTelecom1 &lt;-<span class="st"> </span>(<span class="dv">1</span>-<span class="st"> </span>mar_tel1/marp0telecom1)*<span class="dv">100</span>
saTelecom1</code></pre></div>
<pre><code>## [1] 54</code></pre>
<div id="marp0-in-the-atkinson-dataset" class="section level3">
<h3><span class="header-section-number">12.5.1</span> MARP0 in the Atkinson dataset</h3>
<ul>
<li>For checking results you may use figure Atkinson in Shepperd&amp;MacDonnell</li>
</ul>
<pre><code>## [1] 281</code></pre>
<p><img src="DASE_files/figure-html/unnamed-chunk-92-1.png" width="672" /></p>
</div>
</div>
<div id="confidence-intervals.-bootstrap" class="section level2">
<h2><span class="header-section-number">12.6</span> Confidence Intervals. Bootstrap</h2>
<ul>
<li>Until now we have generated point estimates</li>
<li>A <em>confidence interval</em> (CI) is an interval estimate of a population parameter. The parameter can be the mean, the median or other. The frequentist CI is an observed interval that is different from sample to sample. It frequently includes the value of the unobservable parameter of interes if the experiment is repeated. The <em>confidence level</em> is the value that measures the frequency that the constructed intervals contain the true value of the parameter.</li>
<li>The construction of a confidence interval with an exact value of confidence level for a distribution requires some statistical properties. Usually, <em>normality</em> is one of the properties required for computing confidence intervals.
<ul>
<li>Not all confidence intervals contain the true value of the parameter.</li>
<li>Simulation of confidence intervals</li>
</ul></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">10</span>)
<span class="kw">norsim</span>(<span class="dt">sims =</span> <span class="dv">100</span>, <span class="dt">n =</span> <span class="dv">36</span>, <span class="dt">mu =</span> <span class="dv">100</span>, <span class="dt">sigma =</span> <span class="dv">18</span>, <span class="dt">conf.level =</span> <span class="fl">0.95</span>)</code></pre></div>
<p><img src="DASE_files/figure-html/unnamed-chunk-95-1.png" width="672" /></p>
<ul>
<li>The range defined by the confidence interval will vary with each sample, because the sample size will vary each time and the standard deviation will vary too.</li>
<li>95% confidence interval: it is the probability that the hypothetical confidence intervals (that would be computed from the hypothetical repeated samples) will contain the population mean.</li>
<li>the particular interval that we compute on one sample does not mean that the population mean lies within that interval with a probability of 95%.</li>
<li>recommended reading: <em>Robust misinterpretation of confidence intervals</em>, Rink Hoekstra, Richard D. Morey, Jeffrey N. Rouder, Eric-Jan Wagenmakers. Psychonomic Bulletin &amp; Review, October 2014</li>
</ul>
</div>
<div id="nonparametric-bootstrap" class="section level2">
<h2><span class="header-section-number">12.7</span> Nonparametric Bootstrap</h2>
<ul>
<li>For computing CIs the important thing is to know the assumptions that are made to “know” the distribution of the statistic.</li>
<li>There is a way to compute confidence intervals without meeting the requirements of parametric methods.</li>
<li><strong>Resampling</strong> or <strong>bootstraping</strong> is a method to calculate estimates of a parameter taking samples from the original data and using those <em>resamples</em> to calculate statistics. Using the resamples usually gives more accurate results than using the original single sample to calculate an estimate of a parameter.</li>
</ul>
<div class="figure">
<img src="figures/bootstrap.png" />

</div>
<ul>
<li>Computing the bootstraped confidence interval of the mean for the Test observations of the China dataset:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(boot)</code></pre></div>
<pre><code>## 
## Attaching package: &#39;boot&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:survival&#39;:
## 
##     aml</code></pre>
<pre><code>## The following object is masked from &#39;package:lattice&#39;:
## 
##     melanoma</code></pre>
<pre><code>## The following object is masked from &#39;package:sm&#39;:
## 
##     dogs</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(ae, <span class="dt">main=</span><span class="st">&quot;Absolute Errors of the China Test data&quot;</span>)</code></pre></div>
<p><img src="DASE_files/figure-html/unnamed-chunk-96-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">level_confidence &lt;-<span class="st"> </span><span class="fl">0.95</span>
repetitionsboot &lt;-<span class="st"> </span><span class="dv">9999</span>
samplemean &lt;-<span class="st"> </span>function(x, d){<span class="kw">return</span>(<span class="kw">mean</span>(x[d]))}
b_mean &lt;-<span class="st"> </span><span class="kw">boot</span>(ae, samplemean, <span class="dt">R=</span>repetitionsboot)
confint_mean_China &lt;-<span class="st"> </span><span class="kw">boot.ci</span>(b_mean)</code></pre></div>
<pre><code>## Warning in boot.ci(b_mean): bootstrap variances needed for studentized
## intervals</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">confint_mean_China</code></pre></div>
<pre><code>## BOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS
## Based on 9999 bootstrap replicates
## 
## CALL : 
## boot.ci(boot.out = b_mean)
## 
## Intervals : 
## Level      Normal              Basic         
## 95%   (1415, 2309 )   (1389, 2282 )  
## 
## Level     Percentile            BCa          
## 95%   (1451, 2345 )   (1488, 2411 )  
## Calculations and Intervals on Original Scale</code></pre>
<ul>
<li>Computing the bootstraped geometric mean</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">boot_geom_mean &lt;-<span class="st"> </span>function(error_vec){
  log_error &lt;-<span class="st"> </span><span class="kw">log</span>(error_vec[error_vec &gt;<span class="st"> </span><span class="dv">0</span>])
  log_error &lt;-log_error[<span class="kw">is.finite</span>(log_error)] <span class="co">#remove the -Inf value before calculating the mean, just in case</span>
  samplemean &lt;-<span class="st"> </span>function(x, d){<span class="kw">return</span>(<span class="kw">mean</span>(x[d]))}
  b &lt;-<span class="st"> </span><span class="kw">boot</span>(log_error, samplemean, <span class="dt">R=</span>repetitionsboot) <span class="co"># with package boot</span>
  <span class="co"># this is a boot for the logs</span>
  <span class="kw">return</span>(b)
}
<span class="co"># BCAconfidence interval for the geometric mean</span>
BCAciboot4geommean &lt;-<span class="st"> </span>function(b){  
  conf_int &lt;-<span class="st"> </span><span class="kw">boot.ci</span>(b, <span class="dt">conf=</span>level_confidence, <span class="dt">type=</span><span class="st">&quot;bca&quot;</span>)$bca <span class="co">#following 10.9 of Ugarte et al.&#39;s book</span>
  conf_int[<span class="dv">5</span>] &lt;-<span class="st"> </span><span class="kw">exp</span>(conf_int[<span class="dv">5</span>]) <span class="co"># the boot was computed with log. Now take the measure back to its previous units</span>
  conf_int[<span class="dv">4</span>] &lt;-<span class="st"> </span><span class="kw">exp</span>(conf_int[<span class="dv">4</span>])
  <span class="kw">return</span> (conf_int)
}
<span class="co"># this is a boot object</span>
b_gm &lt;-<span class="st"> </span><span class="kw">boot_geom_mean</span>(ae) <span class="co">#&quot;ae&quot; is the absolute error in the China Test data</span>
<span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;Geometric Mean of the China Test data: &quot;</span>, <span class="kw">round</span>(<span class="kw">exp</span>(b_gm$t0), <span class="dt">digits=</span><span class="dv">3</span>)))</code></pre></div>
<pre><code>## [1] &quot;Geometric Mean of the China Test data: 832.55&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b_ci_gm &lt;-<span class="st"> </span><span class="kw">BCAciboot4geommean</span>(b_gm)
<span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;Confidence Interval: &quot;</span>, <span class="kw">round</span>(b_ci_gm[<span class="dv">4</span>], <span class="dt">digits=</span><span class="dv">3</span>), <span class="st">&quot; - &quot;</span>, <span class="kw">round</span>(b_ci_gm[<span class="dv">5</span>], <span class="dt">digits=</span><span class="dv">3</span>)))</code></pre></div>
<pre><code>## [1] &quot;Confidence Interval: 675.783 - 1012.201&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Make a % confidence interval bca</span>
<span class="co"># BCAciboot &lt;- function(b){  </span>
<span class="co">#   conf_int &lt;- boot.ci(b, conf=level_confidence, type=&quot;bca&quot;)$bca #following 10.9 of Ugarte et al.&#39;s book</span>
<span class="co">#   return (conf_int)</span>
<span class="co"># }</span></code></pre></div>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="evaluation-of-models.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="feature-selection.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/danrodgar/dasedown/edit/master/440-evaluationInSoftEng.Rmd",
"text": "Edit"
},
"download": ["DASE.pdf", "DASE.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
